jQuery(document).ready(function(e){var n=e(".cd-gallery"),o=e(".cd-folding-panel"),t=e(".cd-main");function s(n,s){if(s){o.find(".cd-fold-content").load(n+" .cd-fold-content > *",function(n){setTimeout(function(){e("body").addClass("overflow-hidden"),o.addClass("is-open"),t.addClass("fold-is-open")},100)})}else{var a=i();o.removeClass("is-open"),t.removeClass("fold-is-open"),"mobile"==a||e(".no-csstransitions").length>0?e("body").removeClass("overflow-hidden"):t.find(".cd-item").eq(0).one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){e("body").removeClass("overflow-hidden"),t.find(".cd-item").eq(0).off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend")})}}function i(){return window.getComputedStyle(document.querySelector(".cd-main"),"::before").getPropertyValue("content").replace(/"/g,"").replace(/'/g,"")}n.on("click","a",function(o){var t,a;o.preventDefault(),t=e(this).attr("href"),a=i(),n.offset().top>e(window).scrollTop()&&"mobile"!=a?e("body,html").animate({scrollTop:n.offset().top},100,function(){s(t,!0)}):n.offset().top+n.height()<e(window).scrollTop()+e(window).height()&&"mobile"!=a?e("body,html").animate({scrollTop:n.offset().top+n.height()-e(window).height()},100,function(){s(t,!0)}):s(t,!0)}),o.on("click",".cd-close",function(e){e.preventDefault(),s("",!1)}),n.on("click",function(n){e(n.target).is(".cd-gallery")&&e(".fold-is-open").length>0&&s("",!1)}),e(".cd-main-nav").on("click",function(n){e(n.target).is(".cd-main-nav")&&e(this).children("ul").toggleClass("is-visible")});var a=e("#ajax-contact"),l=e("#form-messages");e("input, textarea").on("focus",function(){e(l).hasClass("success")&&(e(l).removeClass("success"),e(l).text(""))}),e(a).submit(function(n){n.preventDefault();var o=e(a).serialize();e.ajax({type:"POST",url:e(a).attr("action"),data:o}).done(function(n){e(l).removeClass("error"),e(l).addClass("success"),e(l).text(n),e("#name").val(""),e("#email").val(""),e("#message").val("")}).fail(function(n){e(l).removeClass("success"),e(l).addClass("error"),""!==n.responseText?e(l).text(n.responseText):e(l).text("Oops! An error occured and your message could not be sent.")})})});
